<!DOCTYPE html> 
<head>
	<meta charset="URF-8">
	<title>영양제 등록</title>
</head>
</html>
<body>

	
	<!-- [공통 헤더] 로그인 상태에 따라 다르게 -->
		<div class="top-bar">
		    <!-- 왼쪽 : 홈 -->
		    <div class="top-left">
		        <a th:href="@{/}">홈</a>
		    </div>

		    <!-- 오른쪽 : 로그인/회원가입 or 사용자 정보 -->
		    <div class="top-right">
		        <!-- 비로그인 -->
		        <div th:if="${session.loginMember} == null">
		            <a th:href="@{/members/login}">로그인</a>
		            <a th:href="@{/members/register}">회원가입</a>
		        </div>

		        <!-- 로그인 상태 -->
		        <div th:if="${session.loginMember} != null">
		            <span th:text="${session.loginMember.nickname} + ' 님'"></span>
		            <a th:href="@{/members/me}">내 정보</a>
		            <a th:href="@{/members/logout}">로그아웃</a>
		        </div>
		    </div>
		</div>
		
		
		
		<h1>영양제 등록</h1>
		
		<!-- 목록으로 돌아가기-->
				<p>
				    <a th:href="@{/supplements/list}">
				        ← 내 영양제 목록으로
				    </a>
				</p>

		
				<form th:object="${supplementForm}"
				         th:action="${supplementForm.id} == null ?
				                    @{/supplements} :
				                    @{/supplements/{id}/edit(id=${supplementForm.id})}"
				         method="post">
				
				<!-- 안보여도 되는애들 -->
				<input type="hidden" th:field="*{id}" />
				<input type="hidden" th:field="*{memberId}"/>
				
					<div>
						<label for="name">영양제 이름</label>
						<input type="text" id="name" th:field="*{name}" placeholder="예: 비타민C 1000mg"/>
						
						<!-- 오류메시지 -->
						<div th:if="${nameError}" style="color:red; font-size:0.9em;" th:text="${nameError}"></div>
					</div>

				    <div>
				        <label for="brand">브랜드</label>
				        <input type="text" id="brand" th:field="*{brand}" placeholder="예: OOO 브랜드"/>
						
						<!-- 오류메시지 -->
						<div th:if="${brandError}" style="color:red; font-size:0.9em;"th:text="${brandError}"></div>
				    </div>

					<div>
					    <label>태그</label>
					    <div th:each="tagOpt : ${tagOptions}">
					        <label>
					            <input type="checkbox"
					                   th:value="${tagOpt}"
					                   th:field="*{tagCodes}" />
					            <span th:text="${tagOpt}"></span>
					        </label>
					    </div>

					    <div th:if="${tagsError}" style="color:red; font-size:0.9em;"
					         th:text="${tagsError}"></div>

				    <div>
				        <label for="memo">메모</label><br/>
				        <textarea id="memo" th:field="*{memo}" rows="4" cols="40"
				                  placeholder="섭취 목적, 시간대, 기타 메모를 적어주세요."></textarea>
				    </div>

				    <div>
						<!-- 새로 만들 땐 '등록하기', 수정일 땐 '수정하기' -->
						<button type="submit" th:text="*{id} == null ? '등록하기' : '수정하기'">등록하기</button>
				        <button type="reset">다시 작성</button>
				    </div>
			</form>
		
	
	
</body>
</html>
